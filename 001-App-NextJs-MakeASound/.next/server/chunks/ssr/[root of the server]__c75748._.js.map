{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DATA/Devel/GitHubCopilot/github-copilot-ai-coding-workshop/001-App-NextJs-MakeASound/app/lib/audioplayer.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useCallback, useEffect, useMemo, CSSProperties } from \"react\";\n\n//This component has been created for further optimizations using COPILOT\n\ninterface Track {\n  id: string;\n  label: string;\n  filename: string;\n}\n\nconst TRACKS: Track[] = [\n  { id: \"intro\", label: \"Play INTRO\", filename: \"familiada_intro.mp3\" },\n  { id: \"correct\", label: \"Play CORRECT\", filename: \"familiada_correct.mp3\" },\n  { id: \"fail\", label: \"Play FAIL\", filename: \"familiada_fail.mp3\" },\n];\n\nconst AudioPlayer = () => {\n  const [audioState, setAudioState] = useState({\n    isPlaying: false,\n    currentTrack: null as string | null,\n    isLoading: false,\n    error: null as string | null,\n  });\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Handle audio events\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handlers = {\n      ended: () => setAudioState(prev => ({ ...prev, isPlaying: false, currentTrack: null })),\n      error: () => setAudioState(prev => ({ ...prev, isPlaying: false, isLoading: false, error: \"Playback error\" })),\n      loadstart: () => setAudioState(prev => ({ ...prev, isLoading: true })),\n      canplay: () => setAudioState(prev => ({ ...prev, isLoading: false, error: null }))\n    };\n\n    Object.entries(handlers).forEach(([event, handler]) => {\n      audio.addEventListener(event, handler);\n    });\n\n    return () => {\n      Object.entries(handlers).forEach(([event, handler]) => {\n        audio.removeEventListener(event, handler);\n      });\n    };\n  }, []);\n  const playTrack = useCallback(\n    async (filename: string) => {\n      if (!audioRef.current) return;\n\n      const audio = audioRef.current;\n      const isSameTrack = audioState.currentTrack === filename;\n\n      try {\n        if (isSameTrack) {\n          if (audioState.isPlaying) {\n            audio.pause();\n            setAudioState((prev) => ({ ...prev, isPlaying: false }));\n          } else {\n            await audio.play();\n            setAudioState((prev) => ({ ...prev, isPlaying: true }));\n          }\n        } else {\n          audio.src = `/music/${filename}`;\n          await audio.play();\n          setAudioState({ isPlaying: true, currentTrack: filename, isLoading: false, error: null });\n        }\n      } catch (error) {\n        console.error(\"Playback failed:\", error);\n        setAudioState((prev) => ({ ...prev, isPlaying: false, error: \"Playback failed\" }));\n      }\n    },\n    [audioState]\n  );\n\n  const getButtonLabel = useCallback(\n    (track: Track) => {\n      if (audioState.currentTrack === track.filename) {\n        if (audioState.isLoading) return \"Loading...\";\n        return audioState.isPlaying ? \"Pause\" : \"Play\";\n      }\n      return track.label;\n    },\n    [audioState]\n  );\n\n  const getButtonStyle = useCallback(\n    (track: Track) => ({\n      ...styles.button,\n      opacity: audioState.isLoading && audioState.currentTrack === track.filename ? 0.7 : 1,\n    }),\n    [audioState]\n  );\n\n  const styles = useMemo(\n    () =>\n      ({\n        container: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          gap: \"10px\",\n          padding: \"20px\",\n          backgroundColor: \"#f9f9f9\",\n          borderRadius: \"10px\",\n          boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          maxWidth: \"400px\",\n        },\n        button: {\n          padding: \"10px 20px\",\n          fontSize: \"16px\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          backgroundColor: \"#0070f3\",\n          color: \"white\",\n          cursor: \"pointer\",\n          width: \"100%\",\n          transition: \"background-color 0.2s ease\",\n        },\n        error: {\n          color: \"red\",\n          marginTop: \"10px\",\n        },\n      } as Record<string, CSSProperties>),\n    []\n  );\n\n  return (\n    <div style={styles.container}>\n      <audio ref={audioRef} preload=\"auto\" />\n      {TRACKS.map((track) => (\n        <button\n          key={track.id}\n          onClick={() => playTrack(track.filename)}\n          style={getButtonStyle(track)}\n          disabled={audioState.isLoading && audioState.currentTrack === track.filename}\n        >\n          {getButtonLabel(track)}\n        </button>\n      ))}\n      {audioState.error && <div style={styles.error}>{audioState.error}</div>}\n    </div>\n  );\n};\n\nexport default AudioPlayer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}