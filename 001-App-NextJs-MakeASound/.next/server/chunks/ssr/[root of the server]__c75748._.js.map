{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DATA/Devel/GitHubCopilot/github-copilot-ai-coding-workshop/001-App-NextJs-MakeASound/app/lib/audioplayer.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useCallback, useEffect, CSSProperties } from \"react\";\n\n//This component has been created for further optimizations using COPILOT\n\ninterface Track {\n  id: string;\n  label: string;\n  filename: string;\n}\n\nconst TRACKS: Track[] = [\n  { id: \"intro\", label: \"Play INTRO\", filename: \"familiada_intro.mp3\" },\n  { id: \"correct\", label: \"Play CORRECT\", filename: \"familiada_correct.mp3\" },\n  { id: \"fail\", label: \"Play FAIL\", filename: \"familiada_fail.mp3\" },\n];\n\nconst AudioPlayer = () => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTrack, setCurrentTrack] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Handle audio events\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handleEnded = () => {\n      setIsPlaying(false);\n      setCurrentTrack(null);\n    };\n\n    const handleError = () => {\n      setIsPlaying(false);\n      setIsLoading(false);\n      console.error('Error playing audio');\n    };\n\n    const handleLoadStart = () => setIsLoading(true);\n    const handleCanPlay = () => setIsLoading(false);\n\n    audio.addEventListener('ended', handleEnded);\n    audio.addEventListener('error', handleError);\n    audio.addEventListener('loadstart', handleLoadStart);\n    audio.addEventListener('canplay', handleCanPlay);\n\n    return () => {\n      audio.removeEventListener('ended', handleEnded);\n      audio.removeEventListener('error', handleError);\n      audio.removeEventListener('loadstart', handleLoadStart);\n      audio.removeEventListener('canplay', handleCanPlay);\n    };\n  }, []);\n\n  const playTrack = useCallback(async (filename: string) => {\n    if (!audioRef.current) return;\n\n    const audio = audioRef.current;\n    const isSameTrack = currentTrack === filename;\n\n    try {\n      if (isSameTrack) {\n        if (isPlaying) {\n          audio.pause();\n          setIsPlaying(false);\n        } else {\n          await audio.play();\n          setIsPlaying(true);\n        }\n      } else {\n        audio.src = `/music/${filename}`;\n        await audio.play();\n        setCurrentTrack(filename);\n        setIsPlaying(true);\n      }\n    } catch (error) {\n      console.error('Playback failed:', error);\n      setIsPlaying(false);\n    }\n  }, [currentTrack, isPlaying]);\n\n  const getButtonLabel = useCallback((track: Track) => {\n    if (currentTrack === track.filename) {\n      if (isLoading) return \"Loading...\";\n      return isPlaying ? \"Pause\" : \"Play\";\n    }\n    return track.label;\n  }, [currentTrack, isPlaying, isLoading]);\n\n  return (\n    <div style={styles.container}>\n      <audio ref={audioRef} preload=\"auto\" />\n      {TRACKS.map((track) => (\n        <button\n          key={track.id}\n          onClick={() => playTrack(track.filename)}\n          style={{\n            ...styles.button,\n            opacity: isLoading && currentTrack === track.filename ? 0.7 : 1,\n          }}\n          disabled={isLoading && currentTrack === track.filename}\n        >\n          {getButtonLabel(track)}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    gap: \"10px\",\n    padding: \"20px\",\n    backgroundColor: \"#f9f9f9\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n    maxWidth: \"400px\",\n  },\n  button: {\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    border: \"none\",\n    borderRadius: \"5px\",\n    backgroundColor: \"#0070f3\",\n    color: \"white\",\n    cursor: \"pointer\",\n    width: \"100%\",\n    transition: \"background-color 0.2s ease\",\n  },\n};\n\nexport default AudioPlayer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}