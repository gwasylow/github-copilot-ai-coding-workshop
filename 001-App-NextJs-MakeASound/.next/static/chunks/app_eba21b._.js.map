{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/DATA/Devel/GitHubCopilot/github-copilot-ai-coding-workshop/001-App-NextJs-MakeASound/app/lib/audioplayer.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useCallback, useEffect, useMemo, CSSProperties } from \"react\";\n\n//This component has been created for further optimizations using COPILOT\n\ninterface Track {\n  id: string;\n  label: string;\n  filename: string;\n}\n\nconst TRACKS: Track[] = [\n  { id: \"intro\", label: \"Play INTRO\", filename: \"familiada_intro.mp3\" },\n  { id: \"correct\", label: \"Play CORRECT\", filename: \"familiada_correct.mp3\" },\n  { id: \"fail\", label: \"Play FAIL\", filename: \"familiada_fail.mp3\" },\n];\n\nconst AudioPlayer = () => {\n  const [audioState, setAudioState] = useState({\n    isPlaying: false,\n    currentTrack: null as string | null,\n    isLoading: false,\n    error: null as string | null,\n  });\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Handle audio events\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handlers = {\n      ended: () => setAudioState(prev => ({ ...prev, isPlaying: false, currentTrack: null })),\n      error: () => setAudioState(prev => ({ ...prev, isPlaying: false, isLoading: false, error: \"Playback error\" })),\n      loadstart: () => setAudioState(prev => ({ ...prev, isLoading: true })),\n      canplay: () => setAudioState(prev => ({ ...prev, isLoading: false, error: null }))\n    };\n\n    Object.entries(handlers).forEach(([event, handler]) => {\n      audio.addEventListener(event, handler);\n    });\n\n    return () => {\n      Object.entries(handlers).forEach(([event, handler]) => {\n        audio.removeEventListener(event, handler);\n      });\n    };\n  }, []);\n  const playTrack = useCallback(\n    async (filename: string) => {\n      if (!audioRef.current) return;\n\n      const audio = audioRef.current;\n      const isSameTrack = audioState.currentTrack === filename;\n\n      try {\n        if (isSameTrack) {\n          if (audioState.isPlaying) {\n            audio.pause();\n            setAudioState((prev) => ({ ...prev, isPlaying: false }));\n          } else {\n            await audio.play();\n            setAudioState((prev) => ({ ...prev, isPlaying: true }));\n          }\n        } else {\n          audio.src = `/music/${filename}`;\n          await audio.play();\n          setAudioState({ isPlaying: true, currentTrack: filename, isLoading: false, error: null });\n        }\n      } catch (error) {\n        console.error(\"Playback failed:\", error);\n        setAudioState((prev) => ({ ...prev, isPlaying: false, error: \"Playback failed\" }));\n      }\n    },\n    [audioState]\n  );\n\n  const getButtonLabel = useCallback(\n    (track: Track) => {\n      if (audioState.currentTrack === track.filename) {\n        if (audioState.isLoading) return \"Loading...\";\n        return audioState.isPlaying ? \"Pause\" : \"Play\";\n      }\n      return track.label;\n    },\n    [audioState]\n  );\n\n  const getButtonStyle = useCallback(\n    (track: Track) => ({\n      ...styles.button,\n      opacity: audioState.isLoading && audioState.currentTrack === track.filename ? 0.7 : 1,\n    }),\n    [audioState]\n  );\n\n  const styles = useMemo(\n    () =>\n      ({\n        container: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          gap: \"10px\",\n          padding: \"20px\",\n          backgroundColor: \"#f9f9f9\",\n          borderRadius: \"10px\",\n          boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          maxWidth: \"400px\",\n        },\n        button: {\n          padding: \"10px 20px\",\n          fontSize: \"16px\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          backgroundColor: \"#0070f3\",\n          color: \"white\",\n          cursor: \"pointer\",\n          width: \"100%\",\n          transition: \"background-color 0.2s ease\",\n        },\n        error: {\n          color: \"red\",\n          marginTop: \"10px\",\n        },\n      } as Record<string, CSSProperties>),\n    []\n  );\n\n  return (\n    <div style={styles.container}>\n      <audio ref={audioRef} preload=\"auto\" />\n      {TRACKS.map((track) => (\n        <button\n          key={track.id}\n          onClick={() => playTrack(track.filename)}\n          style={getButtonStyle(track)}\n          disabled={audioState.isLoading && audioState.currentTrack === track.filename}\n        >\n          {getButtonLabel(track)}\n        </button>\n      ))}\n      {audioState.error && <div style={styles.error}>{audioState.error}</div>}\n    </div>\n  );\n};\n\nexport default AudioPlayer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}